<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>المهارات الرقمية | كنز العلم</title>
  <meta name="description" content="المهارات الرقمية — مشغّل داخل المنصة، وحدات قابلة للطي، وتتبع إنجاز.">
  <link rel="stylesheet" href="assets/css/style.css">
  <link rel="icon" href="assets/cover/kanz.jpg">
  <style>
    /* ===== Page tweaks ===== */
    .hero .title{font-size:26px;line-height:1.35}
    @media(max-width:600px){.hero .title{font-size:20px}}

    .player-wrap{display:grid;grid-template-columns:2fr 1fr;gap:16px}
    @media(max-width:900px){.player-wrap{grid-template-columns:1fr}}

    .player-box{background:#fff;border:1px solid var(--line);border-radius:14px;overflow:hidden}
    .player-head{display:flex;justify-content:space-between;align-items:center;padding:12px 14px;border-bottom:1px solid var(--line)}
    .player-title{font-weight:800}
    .frame{width:100%;aspect-ratio:16/9;border:0;display:block;background:#000}

    .playlist .unit{background:#fff;border:1px solid var(--line);border-radius:14px;overflow:hidden;margin-bottom:14px}
    .unit .head{display:flex;justify-content:space-between;align-items:center;padding:12px 14px;cursor:pointer;background:#fff}
    .unit .head .title{font-size:16px}
    .unit .body{display:none;padding:10px 12px}
    .unit.open .body{display:block}
    .badge.locked{background:#fff3f3;border-color:#ffd7d7;color:#a74141}

    .progress{display:flex;align-items:center;gap:8px;margin-top:8px}
    .progress .bar{height:8px;background:#e9edfb;border-radius:999px;overflow:hidden;flex:1}
    .progress .bar > i{display:block;height:100%;background:linear-gradient(180deg,var(--gold,#d4af37),var(--gold-2,#b68d1a));width:0%}
    .progress .label{font-size:12px;color:#5f6b85}

    .row{display:flex;justify-content:space-between;align-items:center;gap:10px;border-bottom:1px dashed var(--line);padding:8px 10px;position:relative;border-radius:10px}
    .row:last-child{border-bottom:0}
    .row .meta{font-size:13px;color:#5f6b85}
    .btn.play{padding:6px 10px;border-radius:10px}

    /* watched tick */
    .tick{display:inline-flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:999px;border:1px solid #cfd6ea;margin-inline-end:8px;opacity:.25;transition:.2s;flex:0 0 22px}
    .tick::before{content:"✓";font-weight:800;font-size:13px;color:#1a7f37}
    .row.watched .tick{opacity:1;border-color:#a8d6b5;background:#e8fff1}

    /* active / next */
    .row.active{background:#fff7da;border:1px solid #ffd67b;box-shadow:0 6px 14px rgba(0,0,0,.04)}
    .row.active::before{content:"جاري التشغيل";position:absolute;inset-inline-start:10px;top:-10px;font-size:11px;background:#ffe8a6;color:#4a3900;padding:2px 8px;border-radius:999px;border:1px solid #ffd67b}
    .row.next{outline:2px dashed #ffd76a;outline-offset:-6px}
    .row.next::after{content:"التالي";position:absolute;inset-inline-end:10px;top:-10px;font-size:11px;background:#ffd76a;color:#4a3900;padding:2px 8px;border-radius:999px;border:1px solid #e5c45e}
    .row.next:hover{background:#fff4c9}

    /* navbar dropdowns & social/button colors (site theme) */
    .dropdown{position:relative}
    .dropbtn{background:#fff;border:1px solid var(--line);border-radius:10px;padding:8px 12px;cursor:pointer}
    .dropmenu{position:absolute;inset-inline-start:0;top:110%;background:#fff;border:1px solid var(--line);border-radius:12px;min-width:220px;padding:8px;display:none;box-shadow:0 10px 30px rgba(0,0,0,.08)}
    .dropdown:hover .dropmenu{display:block}
    .dropmenu a{display:block;padding:8px;border-radius:8px;color:#0c1324}
    .dropmenu a:hover{background:#f2f5ff}
    .btn.fb{background:#1877F2;color:#fff;border:none}
    .btn.yt{background:#FF0000;color:#fff;border:none}
    .btn.wa{background:#25D366;color:#000;border:none}
    .btn.loc{background:linear-gradient(180deg, var(--gold, #d4af37), var(--gold-2, #b68d1a));color:#000;border:none}
  </style>
</head>
<body>

  <!-- ===== Header (مطابق لباقي الصفحات) ===== -->
  <!-- START :: Unified Header v2 -->
<!-- START :: Unified Header v2 -->
<!-- START :: Header (clean) -->
<header class="nav gold">
  <div class="container nav-inner">
    <a class="logo" href="index.html" title="كنز العلم">
      <img src="assets/cover/kanz.jpg" alt="شعار كنز العلم" loading="lazy">
      <div class="brand">
        <strong>كنز العلم</strong>
        <small>منصة تعليمية لكل المراحل</small>
      </div>
    </a>

    <nav class="links">
      <!-- البرامج -->
      <div class="dropdown">
        <button class="dropbtn" type="button" aria-haspopup="true" aria-expanded="false">البرامج</button>
        <div class="dropmenu" role="menu">
          <a href="courses.html#basic"      role="menuitem">المرحلة الأساسية</a>
          <a href="courses.html#secondary"  role="menuitem">المرحلة الثانوية</a>
          <a href="courses.html#university" role="menuitem">المرحلة الجامعية</a>
        </div>
      </div>

      <!-- المعلمون (نقلنا ملخصات + أوراق عمل هنا) -->
      <div class="dropdown">
        <button class="dropbtn" type="button" aria-haspopup="true" aria-expanded="false">المعلمون</button>
        <div class="dropmenu" role="menu">
          <a href="teacher.html"    role="menuitem">قائمة المعلمين</a>
          <a href="summaries.html"  role="menuitem">ملخصات</a>
          <a href="worksheets.html" role="menuitem">أوراق عمل</a>
          <a href="dossiers.html"   role="menuitem">دوسيات</a>
        </div>
      </div>

      <!-- المحتوى (أبقينا: امتحانات سابقة + أسئلة مقترحة + اختبارات إلكترونية) -->
      <div class="dropdown">
        <button class="dropbtn" type="button" aria-haspopup="true" aria-expanded="false">المحتوى</button>
        <div class="dropmenu" role="menu">
          <a href="past-exams.html"   role="menuitem">امتحانات سابقة</a>
          <a href="suggestions.html"  role="menuitem">أسئلة مقترحة</a>
          <a href="e-exams.html"      role="menuitem">اختبارات إلكترونية</a>
        </div>
      </div>

      <a href="news.html">أخبار</a>
      <a href="contact.html" class="cta">معلومات التواصل</a>
    </nav>
  </div>
</header>
<!-- END :: Header -->
<!-- END :: Unified Header v2 -->
<!-- END :: Unified Header v2 -->

  <!-- ===== Hero ===== -->
  <section class="hero">
    <div class="container" style="align-items:center;padding:22px 0">
      <div>
        <h1 class="title">المهارات الرقمية</h1>
        <p class="subtitle">شغّل الدروس من القائمة — التقدّم يُحفظ تلقائيًا، وتمييز الدرس الحالي و"التالي".</p>
      </div>
      <div class="hero-art card lift" style="height:180px;background:url('assets/cover/digital_skills.jpg') center/cover no-repeat"></div>
    </div>
  </section>

  <!-- ===== Player + Playlist ===== -->
  <section class="section">
    <div class="container player-wrap">

      <!-- Player -->
      <div class="player-box">
        <div class="player-head">
          <div class="player-title" id="vTitle">انطلاقة شرح مادة المهارات الرقمية (توجيهي)</div>
          <div class="badges">
            <a class="btn" href="#" onclick="showPdf('assets/slides/digital/u1-1.pdf','سلايدات الوحدة الأولى');return false;">سلايدات</a>
          </div>
        </div>
        <iframe id="yt" class="frame" title="مشغّل الفيديو"
          allowfullscreen allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"></iframe>
      </div>

      <!-- Playlist -->
      <aside class="playlist">

        <!-- الوحدة 1 -->
        <div class="unit open" id="u1">
          <div class="head" onclick="toggleUnit('u1')">
            <div class="title">الوحدة الأولى</div>
            <div class="progress" aria-label="تقدّم الوحدة الأولى">
              <div class="bar"><i id="u1bar" style="width:0%"></i></div>
              <div class="label" id="u1lbl">0 / 3 مكتمل</div>
            </div>
          </div>
          <div class="body">
            <div class="row" data-yt="vGkVU6B4oRs" data-title="انطلاقة شرح مادة المهارات الرقمية (توجيهي)">
              <div style="display:flex;align-items:center"><span class="tick" title="مشاهد"></span><div>انطلاقة شرح مادة المهارات الرقمية (توجيهي)</div></div>
              <button class="btn play primary">تشغيل</button>
            </div>
            <div class="row" data-yt="YCYXraV6WP4" data-title="الدرس 1 — دورة حياة تطوير النظام (الجزء 1)">
              <div style="display:flex;align-items:center"><span class="tick" title="مشاهد"></span><div>الدرس 1 — دورة حياة تطوير النظام (الجزء 1)</div></div>
              <button class="btn play">تشغيل</button>
            </div>
            <div class="row" data-yt="7uOfYcqNpfY" data-title="الدرس 1 — دورة حياة تطوير النظام (الجزء 2)">
              <div style="display:flex;align-items:center"><span class="tick" title="مشاهد"></span><div>الدرس 1 — دورة حياة تطوير النظام (الجزء 2)</div></div>
              <button class="btn play">تشغيل</button>
            </div>

            <div class="row">
              <div class="meta">امتحانات إلكترونية وقريبًا مزيد من الدروس لهذه الوحدة.</div>
            </div>
          </div>
        </div>

        <!-- الوحدة 2 (مقفلة) -->
        <div class="unit" id="u2" data-lock="digital-u2">
          <div class="head" onclick="toggleUnit('u2')">
            <div class="title">الوحدة الثانية <span class="badge locked">مقفلة</span></div>
            <div class="progress" aria-label="تقدّم الوحدة الثانية">
              <div class="bar"><i id="u2bar" style="width:0%"></i></div>
              <div class="label" id="u2lbl">0 / 0 مكتمل</div>
            </div>
          </div>
          <div class="body">
            <div class="row">
              <div>سلايدات الوحدة (PDF)</div>
              <div>
                <a class="btn" data-locked-link href="#" onclick="showPdf('assets/slides/digital/u2-1.pdf','سلايدات الوحدة الثانية');return false;">عرض</a>
                <button class="btn" onclick="unlock('digital-u2')">إدخال الكود</button>
              </div>
            </div>
            <div class="row">
              <div class="meta">قريبًا — دروس فيديو للوحدة الثانية.</div>
            </div>
          </div>
        </div>

      </aside>
    </div>
  </section>

  <!-- ===== Footer ===== -->
  <!-- START :: Unified Footer v2 -->
<!-- START :: Unified Footer v2 -->
<footer class="footer">
  <div class="container footgrid">
    <div>
      <div class="fbrand">
        <img src="assets/cover/kanz.jpg" alt="شعار كنز" loading="lazy">
        <div>
          <strong>كنز العلم</strong>
          <small>المنصة الأشمل لجميع المراحل الدراسية.</small>
        </div>
      </div>
      <div class="social" style="margin-top:10px;display:flex;gap:10px;flex-wrap:wrap">
        <a class="btn fb" href="https://web.facebook.com/asalaltamuz2019" target="_blank" rel="noopener">Facebook 1</a>
        <a class="btn fb" href="https://web.facebook.com/profile.php?id=100070253529142" target="_blank" rel="noopener">Facebook 2</a>
        <a class="btn yt" href="https://www.youtube.com/@TeacherMohammadahmadalshloul" target="_blank" rel="noopener">YouTube</a>
        <a class="btn wa" href="https://wa.me/962790245645" target="_blank" rel="noopener">WhatsApp</a>
      </div>
    </div>
    <div>
      <h4>الدورات</h4>
      <a href="courses.html#basic">المرحلة الأساسية</a>
      <a href="courses.html#secondary">المرحلة الثانوية</a>
      <a href="courses.html#university">المرحلة الجامعية</a>
    </div>
    <div>
      <h4>روابط سريعة</h4>
      <a href="teacher.html">المعلمون</a>
      <a href="dossiers.html">دوسيات</a>
      <a href="summaries.html">ملخصات</a>
      <a href="worksheets.html">أوراق عمل</a>
      <a href="past-exams.html">امتحانات سابقة</a>
      <a href="suggestions.html">أسئلة مقترحة</a>
      <a href="e-exams.html">اختبارات إلكترونية</a>
    </div>
    <div>
      <h4>الموقع</h4>
      <a class="btn loc" target="_blank" rel="noopener"
         href="https://www.google.com/maps?q=32.5342972,35.8473561&z=17&hl=en">📍 إربد - الأردن (الموقع)</a>
      <div class="meta" style="margin-top:6px">هاتف: <a href="tel:+962790245645">+962 7 9024 5645</a></div>
    </div>
  </div>
  <div class="copy" style="text-align:center">
    <div style="font-weight:800;font-size:15px;margin:6px 0">
      <a href="https://wa.me/962790986908" target="_blank" rel="noopener"
         style="color:#ffd76a;text-decoration:underline">Develped by Mohamad Khaled Al-Shlool</a>
    </div>
    <div style="opacity:.9">© kanz_el3lm</div>
  </div>
</footer><!-- END :: Unified Footer v2 -->
<!-- END :: Unified Footer v2 -->

  <script src="assets/js/app.js"></script>
  <script>
    /* ===== Accordion + Player + Progress + Active/Next + Watched tick ===== */

    function toggleUnit(id){
      document.getElementById(id).classList.toggle('open');
    }

    // Helpers
    const frame = document.getElementById('yt');
    const titleEl = document.getElementById('vTitle');
    const keyPrefix = 'watched:digital:';

    function markWatched(id){
      try{ localStorage.setItem(keyPrefix+id,'1'); }catch(e){}
    }
    function isWatched(id){
      try{ return localStorage.getItem(keyPrefix+id)==='1'; }catch(e){ return false; }
    }

    function updateProgress(unitId){
      const unit = document.getElementById(unitId);
      const rows = unit.querySelectorAll('[data-yt]');
      const total = rows.length;
      let done = 0;
      rows.forEach(r=>{ if(isWatched(r.dataset.yt)) done++; });
      const pct = total? Math.round(done*100/total) : 0;
      const bar = document.getElementById(unitId+'bar');
      const lbl = document.getElementById(unitId+'lbl');
      if(bar) bar.style.width = pct+'%';
      if(lbl) lbl.textContent = done+' / '+total+' مكتمل';
    }

    function setActiveRow(row){
      document.querySelectorAll('.row.active').forEach(r=>r.classList.remove('active'));
      row.classList.add('active');

      // next indicator
      document.querySelectorAll('.row.next').forEach(r=>r.classList.remove('next'));
      let next = row.nextElementSibling;
      while(next && !next.dataset.yt) next = next.nextElementSibling;
      if(!next){ // لو ما في التالي داخل نفس الوحدة، خذ أول فيديو تالٍ في الصفحة
        const all = [...document.querySelectorAll('.row[data-yt]')];
        const idx = all.indexOf(row);
        if(idx>-1 && all[idx+1]) next = all[idx+1];
      }
      if(next) next.classList.add('next');
    }

    function playVideo(id, t, row){
      titleEl.textContent = t || 'فيديو';
      frame.src = 'https://www.youtube.com/embed/' + id + '?rel=0&modestbranding=1&autoplay=1';
      markWatched(id);
      if(row){
        row.classList.add('watched');
        setActiveRow(row);
      }
      updateProgress('u1'); updateProgress('u2');

      if (window.innerWidth < 900) {
        const y = frame.getBoundingClientRect().top + window.scrollY - 80;
        window.scrollTo({top:y, behavior:'smooth'});
      }
    }

    // Bind play buttons
    document.querySelectorAll('.row[data-yt] .btn.play').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const row = btn.closest('.row');
        if (btn.hasAttribute('data-locked-link') || row.hasAttribute('data-locked-link')) return; // locked
        playVideo(row.dataset.yt, row.dataset.title, row);
      });
    });

    // Init default video
    const firstRow = document.querySelector('.row[data-yt]');
    playVideo('vGkVU6B4oRs','انطلاقة شرح مادة المهارات الرقمية (توجيهي)', firstRow);

    // Restore watched ticks
    document.querySelectorAll('.row[data-yt]').forEach(row=>{
      if(isWatched(row.dataset.yt)) row.classList.add('watched');
    });
    updateProgress('u1'); updateProgress('u2');

    // Sync unlock for unit 2 (from app.js unlock)
    (function syncUnlock(){
      const open = localStorage.getItem('unlock:digital-u2')==='1';
      if(open){
        document.querySelectorAll('#u2 [data-locked-link]').forEach(el=>el.removeAttribute('data-locked-link'));
        const badge = document.querySelector('#u2 .badge.locked'); if(badge){ badge.textContent='مفتوحة'; badge.classList.remove('locked'); }
      }
    })();
  </script>
</body>
</html>



